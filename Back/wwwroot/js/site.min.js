var numberReg=/^[0-9]*$/,positiveNumberReg=/^\+?[1-9][0-9]*$/,positiveNumberZeroReg=/^\-?[0-9][0-9]*$/,floatReg=/^[0-9]+\.{0,1}[0-9]{0,9}$/,float2Reg=/^[0-9]+\.{0,1}([0-9]{1,2})?$/,float3Reg=/^[0-9]+\.{0,1}([0-9]{1,3})?$/,float4Reg=/^[0-9]+\.{0,1}([0-9]{1,4})?$/,emailReg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,telReg=/^(\(\d{3,4}-)|\d{3.4}-\)?\d{7,8}$/,idCardReg=/^[A-Z0-9]{10,20}$/,qqReg=/[1-9][0-9]{4,}/,postCodeReg=/[1-9]\d{5}(?!\d)/,ipReg=/\d+\.\d+\.\d+\.\d+/,mobileReg=/^1[3|4|5|7|8][0-9]\d{4,8}$/,dateReg=/^(\d{4})-(\d{2})-(\d{2})$/,urlReg="^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$",price=/^\d+(\.\d+)?$/;function validateData(t,e,a){void 0===e&&(e={cancelable:!1});var i=$(t).attr("validate");if(!i)return!0;var n=null!=$(t).val()&&""!=$(t).val().trim()&&null!=$(t).val().trim(),o=null!=$(t).attr("data-upload-value")&&""!=$(t).attr("data-upload-value").trim()&&null!=$(t).attr("data-upload-value").trim();if(0==i.indexOf("length")){var r=i.split("-")[0],s=i.split("-")[1];if("length"==r&&$(t).is(":visible")){if($(t).is("div")){if($(t).text().length>s||0==$(t).text().length)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("只能输入"+s+"位以内的字符，且不能为空",$(t),1500),!(e.cancelable=!0)}else if($(t).val().trim().length>s||0==$(t).val().trim().length)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("只能输入"+s+"位以内的字符，且不能为空",$(t),1500),!(e.cancelable=!0)}else if("lengthNull"==r)if($(t).is("div")){if($(t).text().length>s)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("只能输入"+s+"位以内的字符",$(t),1500),!(e.cancelable=!0)}else if($(t).val().trim().length>s)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("只能输入"+s+"位以内的字符",$(t),1500),!(e.cancelable=!0)}else if(0==i.indexOf("range")){r=i.substring(0,i.indexOf("{"));var l=parseInt($(t).val().trim());if("range"==r){var c=(u=i.replace("range{","").replace("}","")).split(",")[0],d=u.split(",")[1];if(!n||l>parseInt(d)||l<parseInt(c)||!positiveNumberZeroReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入"+c+"~"+d+"之间的数，且不能为空",$(t),1500),!(e.cancelable=!0)}else if("rangeNull"==r){var u;c=(u=i.replace("rangeNull{","").replace("}","")).split(",")[0],d=u.split(",")[1];if(n&&(l>parseInt(d)||l<parseInt(c)||!positiveNumberZeroReg.test($(t).val().trim())))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入"+c+"~"+d+"之间的数",$(t),1500),!(e.cancelable=!0)}}else if(0==i.indexOf("min")){c=i.split("-")[1],l=parseInt($(t).val().trim());if(!n||l<parseInt(c)||!positiveNumberReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，最小值为"+c,$(t),1500),!(e.cancelable=!0)}else if(0==i.indexOf("max")){d=i.split("-")[1],l=parseInt($(t).val().trim());if(!n||l>parseInt(d)||!positiveNumberReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，最大值为"+d,$(t),1500),!(e.cancelable=!0)}else{if("****"==$(t).val())return!0;switch(i){case"requried":if(!n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("此处内容为必填项",$(t),1500),!(e.cancelable=!0);break;case"number":if(!numberReg.test($(t).val().trim())||""==$(t).val().trim())return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入零或正整数",$(t),1500),!(e.cancelable=!0);break;case"numberNull":if(!numberReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许请输入零或正整数",$(t),1500),!(e.cancelable=!0);break;case"positiveNumber":if(!positiveNumberReg.test($(t).val().trim())||""==$(t).val().trim())return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的正整数",$(t),1500),!(e.cancelable=!0);break;case"positiveNumberNull":if(!positiveNumberReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许请输入大于0的正整数",$(t),1500),!(e.cancelable=!0);break;case"float":if(!floatReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的数字或小数",$(t),1500),!(e.cancelable=!0);break;case"floatNull":if(!floatReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入数字或小数",$(t),1500),!(e.cancelable=!0);break;case"float2":if(!float2Reg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的数字或小数（保留2位小数）",$(t),1500),!(e.cancelable=!0);break;case"float2Null":if(!float2Reg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入数字或小数（保留2位小数）",$(t),1500),!(e.cancelable=!0);break;case"float3":if(!float3Reg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的数字或小数（保留3位小数）",$(t),1500),!(e.cancelable=!0);break;case"float3Null":if(!float3Reg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，请输入数字或小数（保留3位小数）",$(t),1500),!(e.cancelable=!0);break;case"float4":if(!float4Reg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的数字或小数（保留4位小数）",$(t),1500),!(e.cancelable=!0);break;case"price":if(!price.test($(t).val().trim())||"0"==$(t).val().trim())return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入大于0的数字或小数（保留4位小数）",$(t),1500),!(e.cancelable=!0);break;case"float4Null":if(!float4Reg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入数字或小数（保留4位小数）",$(t),1500),!(e.cancelable=!0);break;case"email":if(!emailReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入邮箱地址",$(t),1500),!(e.cancelable=!0);break;case"emailNull":if(!emailReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入邮箱地址",$(t),1500),!(e.cancelable=!0);break;case"tel":if(!telReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入座机号码",$(t),1500),!(e.cancelable=!0);break;case"telNull":if(!telReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入座机号码",$(t),1500),!(e.cancelable=!0);break;case"idCard":if(!idCardReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入正确的身份证号码",$(t),1500),!(e.cancelable=!0);break;case"idCardNull":if(!idCardReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入身份证号码",$(t),1500),!(e.cancelable=!0);break;case"qq":if(!qqReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入QQ号码",$(t),1500),!(e.cancelable=!0);break;case"qqNull":if(!qqReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入QQ号码",$(t),1500),!(e.cancelable=!0);break;case"postCode":if(!postCodeReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入邮编号码",$(t),1500),!(e.cancelable=!0);break;case"postCodeNull":if(!postCodeReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入邮编号码",$(t),1500),!(e.cancelable=!0);break;case"ip":if(!ipReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入IP地址",$(t),1500),!(e.cancelable=!0);break;case"ipNull":if(!ipReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入IP地址",$(t),1500),!(e.cancelable=!0);break;case"mobile":if(!mobileReg.test($(t).val().trim())&&$(t).is(":visible"))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入正确的手机号码",$(t),1500),!(e.cancelable=!0);break;case"mobileNull":if(!mobileReg.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入手机号码",$(t),1500),!(e.cancelable=!0);break;case"date":if(!dateReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入日期",$(t),1500),!(e.cancelable=!0);break;case"dateMin":if(!dateReg.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入日期",$(t),1500),!(e.cancelable=!0);var p=$(t).val(),f=new Date(p.replace(/\-/g,"/")),h=new Date((new Date).toDateString().replace(/\-/g,"/"));if(""!=p&&""!=h&&f<h)return $($(t).attr("targetInput")).focus(),$.tips("日期不能小于当前日期",$(t),1500),!(e.cancelable=!0);break;case"url":if((v=new RegExp).compile(urlReg),!v.test($(t).val().trim()))return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("请在此处输入url地址",$(t),1500),!(e.cancelable=!0);break;case"urlNull":var v;if((v=new RegExp).compile(urlReg),!v.test($(t).val().trim())&&n)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("格式有误，只允许输入url地址",$(t),1500),!(e.cancelable=!0);break;case"multiImg":if(!o)return a&&"disabled"!=$(t).attr("disabled")?$(t).focus():a&&"disabled"==$(t).attr("disabled")&&$($(t).attr("targetInput")).focus(),$.tips("最少要上传一张图片",$(t),1500),!(e.cancelable=!0)}}return!0}$(function(){$("[validate]").each(function(){var e=$(this);$(e).is("select")||0<=$(e).attr("class").toString().indexOf("datepicker")||$(e).parent().attr("class")&&0<=$(e).parent().attr("class").toString().indexOf("datepicker")?$(e).change(function(t){validateData(e,t)}):0<=$(e).attr("class").toString().indexOf("selectpicker")?$(e).on("select2:close",function(t){""!=$(e).val()&&null!=$(e).val()&&null!=$(e).val()||$(e).change()}):$(e).blur(function(t){validateData(e,t)})})}),jQuery.extend({validate:function(e){var a=!0;return $("[validate]").each(function(){var t=$(this);if(void 0===e&&(e=!0),0==(a=validateData(t,void 0,e)))return!1}),a}}),jQuery.fn.extend({validate:function(e){var a=!0;return $("[validate]",$(this)).each(function(){var t=$(this);if(void 0===e&&(e=!0),0==(a=validateData(t,void 0,e)))return!1}),a},validateForm:function(){$(this).find("[validate]").each(function(){var e=$(this);$(e).is("select")||0<=$(e).attr("class").toString().indexOf("datepicker")||$(e).parent().attr("class")&&0<=$(e).parent().attr("class").toString().indexOf("datepicker")?$(e).change(function(t){validateData(e,t,!0)}):0<=$(e).attr("class").toString().indexOf("selectpicker")?$(e).on("select2:close",function(t){""!=$(e).val()&&null!=$(e).val()&&null!=$(e).val()||$(e).change()}):$(e).blur(function(t){validateData(e,t,!0)})})}});var observe,stack_bottomright={dir1:"up",dir2:"left",firstpos1:25,firstpos2:25};function showSwitchery(){Array.prototype.slice.call(document.querySelectorAll(".js-switch")).forEach(function(t){var e=$(t);if(null==e.attr("data-switchery")||"true"!=e.attr("data-switchery")||!e.is(":hidden"))new Switchery(t,{color:"var(--color-blue-light)"})})}function enabledSingleSwitchery(t){new Switchery(t,{color:"var(--color-blue-light)"})}function disabledSingleSwitchery(t){new Switchery(t,{disabled:!0,color:"var(--color-blue-light)"})}function docs(t,e){$.openWin({title:"操作手册",url:"/docs/"+t+"/"+e+".md",width:"800",height:"600"})}function PlayVideo(t){var e=$("#a1").css("width"),a=$("#a1").css("height");$("#a1").html('<video id="video1" width='+e+" height="+a+' controls="controls"  autoplay="autoplay">');var i=document.getElementById("video1");i.src=t,i.load(),i.play()}jQuery.extend({getParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?unescape(decodeURI(a[2])):null},loading:function(){parent.layer.load(3,{shade:[.5,"#fff"]})},alert:function(t){swal({title:t,timer:2e3})},showModal:function(t,e){swal({title:t},function(){"function"==typeof e&&e()})},success:function(t,e){null==e||""==e||null==e?swal({title:t,type:"success",timer:1500}):swal({title:t,type:"success",timer:e})},errorMsg:function(t,e){null==e||""==e||null==e?swal({title:t,type:"error",timer:3e3}):swal({title:t,type:"error",timer:e})},confirm:function(t,e,a,i){var n={title:t,type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消"},o=n;null!=i&&null!=i&&(o=$.extend(n,i)),swal(o,function(t){t?"function"==typeof e&&(e(),$(".sweet-overlay,.sweet-alert").hide()):"function"==typeof a&&a()})},tips:function(t,e,a){null==a||""==a||null==a?layer.tips(t,e,{tips:[1,"#333"],time:1500}):layer.tips(t,e,{tips:[1,"#333"],time:a})},openDiv:function(t){(t=$.extend({title:"",content:""},t)).content=""==t.content?"无":t.content,BootstrapDialog.show({title:t.title,message:t.content});var e=window.event;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},openDialog:function(t){(t=$.extend({title:"",jqObj:"",width:""},t)).jqObj.find("form").resetForm(),t.jqObj.find("#modalLabel,#myModalLabel").html(t.title),t.width&&t.jqObj.find("div").first().css("width",t.width+"px"),t.jqObj.modal({show:!0,backdrop:"static"})},closeDialog:function(t){t.modal("hide")},openWin:function(e){if(e=$.extend({title:"",url:"",data:{},width:"700",height:"800"},e),window.sessionStorage)for(var t in e.data){var a=t,i=e.data[t];window.sessionStorage.setItem(a,i)}$.ajax({url:e.url,success:function(t){parent.layer.open({type:1,title:e.title,shadeClose:!0,shade:.8,area:[e.width+"px",e.height+"px"],maxmin:!0,content:t})}});var n=window.event;n&&n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},closeWin:function(t){$(t).parent("div").next("span").find(".layui-layer-close").click()},addDialogClass:function(t){t=t||"fix-dialog",$("body").delegate(".bootstrap-dialog","shown.bs.modal",function(){$(this).find(".modal-dialog").addClass(t)});var e=window.event;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},setDialogWidth:function(t){$("body").delegate(".bootstrap-dialog","shown.bs.modal",function(){$(this).find(".modal-dialog").animate({width:t+"px"},{speed:"fast"})});var e=window.event;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},openTab:function(t){var e=t.url.replace(/amp;/g,""),a=t.title;if(window.parent.changeWin(e)){if(15<=window.parent.$("iframe.J_iframe").length)return void window.parent.$.alert("亲，打开窗口太多，赶紧清理一下吧 O(∩_∩)O~ ");var i=parseInt(top.$(".J_mainContent .J_iframe:last").attr("name").replace("iframe",""))+1,n='<a href="javascript:;" class="active J_menuTab" data-id="'+e+'">'+a+' <i class="icon-remove-sign"></i></a>';top.$(".J_menuTab").removeClass("active");var o='<iframe class="J_iframe" name="iframe'+i+'" width="100%" height="100%" src="'+e+'" frameborder="0" data-id="'+e+'" seamless></iframe>';top.$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(o);var r=null,s=!1;try{null!=layer&&!layer||(s=!0)}catch(t){}s&&(r=layer.load()),top.$(".J_mainContent iframe:visible").load(function(){r&&layer.close(r)}),top.$(".J_menuTabs .page-tabs-content").append(n)}},setTab:function(t){var e=top.$(".J_menuTab.active").attr("data-id");top.$(".J_mainContent").find("iframe.J_iframe[src='"+e+"']").attr("src",t.url).attr("data-id",t.url),top.$(".active.J_menuTab").attr("data-id",t.url).html(t.title+' <i class="icon-remove-sign"></i>')},setTabTitle:function(t){top.$(".active.J_menuTab").html(t.title+' <i class="icon-remove-sign"></i>')},showMsg:function(t){var e={title:"系统消息",text:"系统内容",addclass:"stack-bottomright",stack:stack_bottomright,delay:6e3};t=$.extend(e,t),new PNotify(t).get().click(function(){t.callback(),$(this).find(".ui-pnotify-closer").click()})},reqApi:function(t){var e=$.extend({async:!0,contentType:"application/x-www-form-urlencoded",dataType:"json",data:{}},t);null==e.data.enterPriseId&&(e.data.enterPriseId=$.getCurrentUser().enterPriseId),$.ajax({url:"/api/"+e.url,type:e.type,dataType:e.dataType,contentType:e.contentType,data:e.data,async:e.async,success:function(t){e.success(t),$("[data-toggle='tooltip']").tooltip()},complete:function(t){"function"==typeof e.complete&&e.complete(t)},error:function(t){401==t.status?callcenter.checkOut():250==t.status?"function"==typeof e.error&&e.error(t):"function"==typeof e.error?e.error(t):t.responseText&&$.errorMsg(t.responseText)}})},getList:function(t){t.type="GET";var o={};$("#divParams input[type='text'],#divParams input[type='hidden'],#divParams input[type='number'],#moreSearch input").each(function(t,e){var a=$(e).attr("name"),i=$(e).val();""!=$.trim(i)&&(o[a]=$(e).val())}),$("#divParams select,#moreSearch select").each(function(t,e){var a=$(e).attr("name"),i=$(e).val(),n=$(e).attr("data-type");""!=$.trim(i)&&(o[a]="bool"==n?"1"==i:"Array"==n?i.join(","):i)}),t.data=$.extend(o,t.data),$.reqApi(t)},get:function(t){t.type="GET",$.reqApi(t)},post:function(t){t.type="POST",t.contentType="application/json",t.data=JSON.stringify(t.data),$.reqApi(t)},put:function(t){t.type="PUT",t.contentType="application/json",t.data=JSON.stringify(t.data),$.reqApi(t)},delete:function(t){t.type="Delete",$.reqApi(t)},getJSON:function(t,e,a){$.ajax({url:t,data:e,dataType:"json",success:function(t){"function"==typeof a&&a(t)},error:function(t){console.log(t)}})},getBack:function(t){var e=$.extend({async:!0,dataType:"json",type:"GET"},t);$.ajax({url:e.url,type:e.type,dataType:e.dataType,data:e.data,async:e.async,success:function(t){e.success(t)},complete:function(t){250==t.status&&("function"==typeof e.error?e.error(t):$.errorMsg(t.responseText)),"function"==typeof e.complete&&e.complete(t)},error:function(t){401==t.status?callcenter.checkOut():(t.status,"function"==typeof e.error&&e.error(t))}})},showDate:function(t,e){return e?t?"0001"==t.substr(0,4)||"1900-01-01 00:00:00"==t||"1900/01/01 00:00:00"==t||"1970/01/01 00:00:00"==t||"1970-01-01 00:00:00"==t?"":new Date(t).Format(e):"":t?"0001"==t.substr(0,4)||"1900-01-01 00:00:00"==t||"1900/01/01 00:00:00"==t||"1970/01/01 00:00:00"==t||"1970-01-01 00:00:00"==t?"":0<=(t=t.toString()).indexOf(" ")?t.substr(0,t.indexOf(" ")):t:""},showAreaName:function(t){if(""==t||null==t)return"-";var e=_.findWhere($.parseJSON($("#areaData").val()),{id:t});return void 0===e?"-":e.name},showBool:function(t){return t?"是":"否"},getSelectId:function(t){var a="",i=[];return $(".table tr").each(function(t,e){1==$(e).data("isSelect")&&(a=$(e).attr("data-id"),i.push(a))}),1<i.length?i:t?i:a},cancelSelectId:function(){$(".table tr").each(function(t,e){1==$(e).data("isSelect")&&($(e).data("isSelect",!1),$(e).css({"background-color":"#fff"}))})},getSelectAttrValue:function(a){var i="";return $(".table tr").each(function(t,e){if(1==$(e).data("isSelect"))return i=$(e).attr(a),!1}),i},getSelectAttrValueList:function(a){var i="",n=[];return $(".table tr").each(function(t,e){1==$(e).data("isSelect")&&(i=$(e).attr(a),n.push(i))}),1<n.length?n:i},getCurrentUser:function(){return{id:$("#currentUserId").val(),name:$("#currentUserName").val(),jobNum:$("#currentJobNum").val(),project:$("#currentProject").val(),departmentId:$("#departmentId").val(),photo:$("#currentUserPhoto").val(),deptName:$("#deptName").val(),enterPriseId:$("#currentEnterPriseId").val()}},getEnumDescription:function(t){return $.parseJSON($("#enumDic").val())[t]},hostFileUrl:function(){return"http://rescdn.xiaohu.in/"},getFileUrl:function(t){return t&&"http"==t.substr(0,4).toLowerCase()?t:$.hostFileUrl()+(t||"")},showUrl:function(t,e){return"<a href='"+encodeURI(t)+"'>"+e+"</a>"},showUrls:function(t,e){return"<a href='"+t+"'>"+e+"</a>"},showUrlss:function(t,e){return"<a href='"+t+"' target='blank'>"+e+"</a>"},showTradeType:function(t){return t<30?'<span class="label label-info mr04">预约</span>':30<=t&&t<60?'<span class="label label-warning mr04">报单</span>':60<=t?'<span class="label label-success mr04">结佣</span>':void 0},getPlatform:function(t){if(t){if(1==t)return'<i class="dib icon-1caifu-light"></i>';if(2==t)return'<i class="dib icon-jiutian-light"></i>';if(4==t)return'<i class="dib icon-tengyun-light"></i>';if(3==t)return'<i class="dib icon-1caifu-light"></i><i class="dib icon-jiutian-light"></i>';if(5==t)return'<i class="dib icon-1caifu-light"></i><i class="dib icon-tengyun-light"></i>';if(6==t)return'<i class="dib icon-jiutian-light"></i><i class="dib icon-tengyun-light"></i>';if(7==t)return'<i class="dib icon-1caifu-light"></i><i class="dib icon-jiutian-light"></i><i class="dib icon-tengyun-light"></i>'}return"-"},convertMin:function(t){var e=parseInt(t),a=0,i=0;return 60<e&&(a=parseInt(e/60),e=parseInt(e%60),60<a&&(i=parseInt(a/60),a=parseInt(a%60))),(10<=i?""+i:"0"+i)+":"+((10<=a?""+a:"0"+a)+":")+(10<=e?""+e:"0"+e)},refreshWin:function(t,e){window.parent.refreshWin(t,e)},partRefreshWin:function(t,e){window.parent.partRefreshWin(t,e)},pageCallBack:function(t,e){window.parent.pageCallBack(t,e)},getDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),n=t.getHours(),o=t.getMinutes(),r=t.getSeconds();return 1<=a&&a<=9&&(a="0"+a),0<=i&&i<=9&&(i="0"+i),1<=n&&n<=9&&(n="0"+n),1<=o&&o<=9&&(o="0"+o),1<=r&&r<=9&&(r="0"+r),e+"-"+a+"-"+i+" "+n+":"+o+":"+r},get_cookie:function(t){var e=t+"=",a="";return 0<document.cookie.length&&(offset=document.cookie.indexOf(e),-1!=offset&&(offset+=e.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),a=unescape(document.cookie.substring(offset,end)))),a},loadpopup:function(){""==$.get_cookie("popped")&&($(".sysAnnouncement").show(),$("#menuCh,#sidebar").css("top","65px"),document.cookie="popped=yes")},productView:function(t,e){switch(e){case 1:case 2:$.openTab({url:"/product/detail?id="+t+"&productTypeId="+e,title:"查看产品-"+t});break;case 3:$.openTab({url:"/product/creditdetail?id="+t+"&productTypeId="+e,title:"查看产品-"+t});break;case 4:$.openTab({url:"/product/privatedetail?id="+t+"&productTypeId="+e,title:"查看产品-"+t});break;case 5:case 6:$.openTab({url:"/product/pevcdetail?id="+t+"&productTypeId="+e,title:"查看产品-"+t})}},delHtmlBr:function(t){return t.replace(/<br>/g,"")},delHtml:function(t){return t.replace(/<[^>]*>/g,"")},showProductName:function(t,e,a,i){var n="";switch(t){case 1:n="信";break;case 2:n="资";break;case 3:n="债";break;case 4:n="证";break;case 5:n="股";break;case 6:n="创";break;case 7:n="保";break;default:n="未知"}var o="<span class='square' style='display:initial'>"+n+"</span>-<span><a href='javascript:;'>"+e+"</span> [<b class='colblue'>"+a+"</b><b>期</b>]";return null==a&&(o="<span class='square' style='display:initial'>"+n+"</span>-<span><a href='javascript:;'>"+e+"</span>"),null!=i&&(o+="<br/>  <b class='colred''>"+i+"</b>"),o},openUserDetail:function(t){$.openTab({url:"/user/edit?id="+t,title:"会员详情 - "+t})},toTree:function(t){t.forEach(function(t){delete t.children});var a={};t.forEach(function(t){a[t.id]=t});var i=[];return t.forEach(function(t){var e=a[t.parentId];e?(e.children||(e.children=[])).push(t):i.push(t)}),i}}),$(function(){$(".collapse-link").click(function(){var t=$(this).closest("div.ibox"),e=$(this).find("i"),a=t.find("div.ibox-content"),i=$(this).find("span");a.slideToggle(200),e.toggleClass("icon-angle-up").toggleClass("icon-angle-down"),t.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){t.resize(),t.find("[id^=map-]").resize()},50),"icon-angle-up"==e.attr("class")?i.text("收起"):i.text("展开")}),$(".close-link").click(function(){$(this).closest("div.ibox").remove()}),$(".datepicker").datepicker({autoclose:!0,format:"yyyy-mm-dd",language:"zh-CN",weekStart:1,orientation:"auto left",todayHighlight:!0}),$(".datepicker-month").datepicker({autoclose:!0,format:"mm",startView:1,minViewMode:1,maxViewMode:1}),$(".datepicker-his").datetimepicker({format:"yyyy-mm-dd hh:ii",language:"zh-CN",weekStart:1,todayBtn:1,autoclose:1,todayHighlight:1,startView:2,forceParse:0}),$(".selectpicker").select2(),$("input[type='file']").each(function(){$(this).attr("title"," ")}),$("[data-toggle='tooltip']").tooltip(),$("#PagerGird table").delegate("tr:not(.none_select)","click",function(){var t=$("#PagerGird table").attr("data-multi"),e=$(this).index();if($(this).data("isSelect"))$(this).css({"background-color":"#fff"}),t&&"false"!=t||$(".table").data("selectIndex",-1),$(this).data("isSelect",!1),$(this).find(":checkbox").removeAttr("checked");else{if(!t||"false"==t){var a=$(".table").data("selectIndex");-1<a&&($(".table tbody tr").eq(a).css({"background-color":"#fff"}),$(".table tbody tr").eq(a).data("isSelect",!1))}$(this).data("isSelect",!0),$(".table").data("selectIndex",e),$(this).addClass("ac").siblings().removeClass("ac"),$(this).css({"background-color":"#ffeeee"}),$(this).find(":checkbox").attr("checked","checked")}}),$(".pie_circle").each(function(t,e){var a=3.6*$(this).find("span").text();a<=180?$(this).find(".right").css("transform","rotate("+a+"deg)"):($(this).find(".right").css("transform","rotate(180deg)"),$(this).find(".left").css("transform","rotate("+(a-180)+"deg)"))}),$(".i-checks input").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"}),$("#summernote").summernote({lang:"zh-CN",height:"400",minHeight:null,maxHeight:null,focus:!0,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]}),$("#navbar-example .nav-tabs li").first().find("a").addClass("active"),$("#navbar-example .nav-tabs li a").on("click",function(){var t=$($(this).attr("href")).position().top;return $(this).addClass("active").parent().siblings().children("a").removeClass("active"),$(".ibox-tab-content").animate({scrollTop:t+"px"},{duration:500,easing:"swing"}),!1}),$(".hasoperater a").on("click",function(){$(this).toggleClass("active")}),$('div[data-group="modalObj"] button[aria-label="Close"]').on("click",function(){$.closeDialog($(this).parent().parent().parent().parent())}),$(document).keydown(function(t){var e;if(8==t.keyCode){var a=t.srcElement||t.target;e="INPUT"!=a.tagName.toUpperCase()&&"TEXTAREA"!=a.tagName.toUpperCase()&&"true"!=a.getAttribute("contenteditable")||(a.readOnly||a.disabled)}else 17==t.keyCode&&0<$("#PagerGird table").length&&"false"==$("#PagerGird table").attr("data-multi")?$("#PagerGird table").attr("data-multi","true"):e=!1;e&&t.preventDefault()}),$(document).keyup(function(){0<$("#PagerGird table").length&&"true"==$("#PagerGird table").attr("data-multi")&&$("#PagerGird table").attr("data-multi","false")}),$(".ibox-content").delegate(".ad_title_fr","click",function(){var t=$(this).parent().next(),e=$(this).find("i"),a=$(this).find("span");t.slideToggle(200),e.toggleClass("icon-angle-up").toggleClass("icon-angle-down"),"icon-angle-up"==e.attr("class")?a.text("收起"):a.text("展开")}),$("#myTab li").on("click",function(){var t=$(this),e=$(this).index();t.addClass("active").siblings().removeClass("active"),$("#myTabContent").children(".tab-pane").eq(e).addClass("active in").siblings().removeClass("active in"),$("#myTabContent").find('input[validate="requried"]').val("")})}),observe=window.attachEvent?function(t,e,a){t.attachEvent("on"+e,a)}:function(t,e,a){t.addEventListener(e,a,!1)},jQuery.extend({homeLoading:function(){document.documentElement.clientHeight,document.documentElement.clientWidth;document.write('<div id="loadingDiv" class="loading-bg animated" ><div class="loading-t lo-Logo"></div><div class="loading-t lo-icon"></div><p>加载中，请耐心等待...</p></div>'),document.onreadystatechange=function(){if("complete"==document.readyState){var t=document.getElementById("loadingDiv");$(t).addClass("bounceOutUp animated")}}},partLoad:{partLoading:function(t){$(t).prepend('<div class="load-container load7"><div class="loader">Loading...</div></div>')},partComplete:function(t){$(t);$(".load-container").remove()}},renderDataRow:function(t){$(t).css({opacity:"0"}),$(t).stop().animate({opacity:"1"},300)},globalLoad:function(){layer.open({type:2})},tipsBox:function(t){t=$.extend({obj:null,str:"+1",startSize:"12px",endSize:"30px",interval:600,color:"red",callback:function(){}},t),$("body").append("<span class='num'>"+t.str+"</span>");var e=$(".num"),a=t.obj.offset().left+t.obj.width()/2,i=t.obj.offset().top-t.obj.height();e.css({position:"absolute",left:a+"px",top:i+"px","z-index":9999,"font-size":t.startSize,"line-height":t.endSize,color:t.color}),e.animate({"font-size":t.endSize,opacity:"0",top:i-parseInt(t.endSize)+"px"},t.interval,function(){e.remove(),t.callback()})},tableHeight:function(t,e){var a,i=document.body.clientHeight-t-$(".ibox-search").outerHeight()-$(".ibox-title").outerHeight()-$(".div-table-head").outerHeight()+15;a=null==e||""==e||null==e?".div-table-content":e,$(a).css({height:i,overflow:"auto","overflow-x":"hidden"}),window.onresize=function(){$.tableHeight(t,e)}},tableHeightTwo:function(e,a){var t=(document.body.clientHeight-e-$(".ibox-search").outerHeight()-2*$(".ibox-title").outerHeight())/2;null==a||""==a||null==a?($(".div-table-content").css({height:t,overflow:"auto"}),window.onresize=function(){var t=(document.body.clientHeight-e-$(".ibox-search").outerHeight()-2*$(".ibox-title").outerHeight())/2;$(".div-table-content").css({height:t})}):($(a).css({height:t,overflow:"auto"}),window.onresize=function(){var t=(document.body.clientHeight-e-$(".ibox-search").outerHeight()-2*$(".ibox-title").outerHeight())/2;$(a).css({height:t})})},tableHeightTwoDis:function(e,a,i,n){var t=document.body.clientHeight-n-2*$(".ibox-search").outerHeight()-2*$(".ibox-title").outerHeight();$(e).css({height:i,overflow:"auto"}),$(a).css({height:t-i,overflow:"auto"}),window.onresize=function(){var t=document.body.clientHeight-n-2*$(".ibox-search").outerHeight()-2*$(".ibox-title").outerHeight();$(e).css({height:i,overflow:"auto"}),$(a).css({height:t-i,overflow:"auto"})}},tableHeightDivLeftRight:function(a,i,n,o){var t=document.body.clientHeight-n-$(".ibox-search").outerHeight()-$(".ibox-title").outerHeight()-$(".div-table-head").outerHeight(),e=document.body.clientHeight-o;$(a).css({height:t,overflow:"auto","overflow-x":"hidden"}),$(i).css({height:e,overflow:"auto","overflow-x":"hidden"}),window.onresize=function(){var t=document.body.clientHeight-n-$(".ibox-search").outerHeight()-$(".ibox-title").outerHeight()-$(".div-table-head").outerHeight(),e=document.body.clientHeight-o;$(a).css({height:t}),$(i).css({height:e})}},tableWidth:function(){var t=$("#thead-erp").width();$(".div-table-head").width(t),$(".div-table-content").width(t)},processerbar:function(i,t){document.getElementById("probar").style.display="block",$("#line").each(function(t,e){var a=parseInt($(e).attr("w"));$(e).animate({width:a+"%"},i)});var e=window.setInterval(function(){a=$("#line").width(),b=(a/66*100).toFixed(0),document.getElementById("percent").innerHTML=b+"%","100%"==document.getElementById("percent").innerHTML&&(clearInterval(e),"function"==typeof t&&t())},70)},textHeightAuto:function(){var e=$("textarea.textarea.form-control");function a(){for(var t=0;t<e.length;t++)e[t].style.height="24px",e[t].style.height=e[t].scrollHeight+2+"px",observe(e[t],"change",a),observe(e[t],"cut",i),observe(e[t],"paste",i),observe(e[t],"drop",i),observe(e[t],"keydown",i)}function i(){window.setTimeout(a,0)}a()},upDialog:function(t){$("body").append('<div class="show_up_bg animated-erp fadeInUp"></div><div class="show_up_con"><div class="form-group row"><div class="col-sm-12" id='+t+"></div>"),$(".show_up_bg").on("click",function(){$(".show_up_bg").remove(),$(".show_up_con").remove()})},leftDialog:function(t){var e="#"+t;0<$(e).length?($(e).show(),$(e).prev().show()):$("body").append('<div class="show_left_bg animated-erp fadeInUp"></div><div class="show_left_con" id='+t+"></div>"),$(".show_left_bg").on("click",function(){$(".show_left_bg,.show_left_con").hide()})},selectTagActive:function(a){null!=a&&""!=a&&(a="#"+a,$("#othertitle li").each(function(){var t=$(this),e=$(this).find("a").attr("href");if(a==e)return t.addClass("active").siblings("li").removeClass("active"),$(".nav-content"+e).show().siblings(".nav-content").hide(),!1}))}}),jQuery.fn.extend({scrollGrid:function(){var e=$(this);e.scroll(function(){var t=e.find("table");0<t.outerHeight(!0)&&0<e.scrollTop()&&(e.height()+Math.ceil(e.scrollTop())>=t.outerHeight(!0)&&(console.log(e.height()),console.log(Math.ceil(e.scrollTop())),console.log(t.outerHeight(!0)),$.partLoad.partLoading(e),setTimeout(function(){query(grid.pageIndex()+1),$.partLoad.partComplete(t)},1100)),e.find(".no_data")&&e.find(".no_data").remove())})}}),$.Data={bindSSQ:function(t,e){var a=this,i=$.extend({province:"",city:"",area:""},t);i.province&&a.bindProvince({province:i.province,defValue:i.defValue}),i.city&&($("#"+i.city).html(""),$("#"+i.city).append("<option value>市</option>"),$("#"+i.province).change(function(){var t=$("#"+i.province).val()||-1;a.bindCity({city:i.city,area:i.area,parentId:t},e)})),i.area&&($("#"+i.area).html(""),$("#"+i.area).append("<option value>区</option>"),$("#"+i.city).change(function(){var t=$("#"+i.city).val()||-1;a.bindArea({area:i.area,parentId:t},e)}))},bindProvince:function(t){var a=$.extend({province:"",parentId:1,defValue:""},t),e=_.where($.parseJSON($("#areaData").val()),{parentId:parseInt(a.parentId)}),i="<option value>省</option>";$(e).each(function(t,e){e.id==a.defValue?i+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":i+="<option value="+e.id+">"+e.name+"</option>"}),$("#"+a.province).html(i)},bindCity:function(t,e){var a=$.extend({city:"",area:"",parentId:-1,defValue:""},t),i=_.where($.parseJSON($("#areaData").val()),{parentId:parseInt(a.parentId)}),n="<option value>市</option>";$(i).each(function(t,e){e.id==a.defValue?n+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":n+="<option value="+e.id+">"+e.name+"</option>"}),$("#"+a.city).html(n),a.area&&$("#"+a.area).html("<option value>区</option>"),"function"==typeof e&&e()},bindArea:function(t,e){var a=$.extend({area:"",parentId:-1,defValue:""},t),i=_.where($.parseJSON($("#areaData").val()),{parentId:parseInt(a.parentId)}),n="<option value>区</option>";$(i).each(function(t,e){e.id==a.defValue?n+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":n+="<option value="+e.id+">"+e.name+"</option>"}),$("#"+a.area).html(n),"function"==typeof e&&e()},loadSSH:function(t,e){var a={province:t.province||"",provinceId:t.provinceId||-1,city:t.city||"",cityId:t.cityId||-1,area:t.area||"",areaId:t.areaId||-1};a.province&&this.bindProvince({province:a.province,defValue:a.provinceId}),a.city&&this.bindCity({city:a.city,area:a.area,parentId:a.provinceId,defValue:a.cityId},e),a.area&&this.bindArea({area:a.area,parentId:a.cityId,defValue:a.areaId})},bindProductOrganizationAndIssuer:function(e,a,i){$.get({url:"product/productOrganization",success:function(t){$("#selProductOrganization option").remove(),$("#selProductOrganization").append('<option value="">-</option>'),$(t).each(function(t,e){$("#selProductOrganization").append("<option value="+e.id+">"+e.name+"</option>")}),e?($("#selProductOrganization").val(e),$("#select2-selProductOrganization-container").text($("#selProductOrganization option:selected").text()),$.Data.bindIssuer(e,a,i)):$("#selIssuer").html('<option value="">-</option>'),$("#selProductOrganization").change(function(){$.Data.bindIssuer($("#selProductOrganization").val())})}})},bindIssuer:function(t,e,a){!t||-99==e||a&&0!=a?($("#selIssuer").html('<option value="">******</option>'),$("#selIssuer").val(""),$("#selIssuer").change()):$.get({url:"product/issuer",data:{productOrganizationId:t},success:function(t){$("#selIssuer option").remove(),$("#selIssuer").append('<option value="">-</option>'),$(t).each(function(t,e){$("#selIssuer").append("<option value="+e.id+">"+e.name+"-"+e.mobile+"</option>")}),e?($("#selIssuer").val(e),$("#select2-selIssuer-container").text($("#selIssuer option:selected").text())):($("#selIssuer").val($("#selIssuer option").eq(1).attr("value")),$("#selIssuer").change())}})},bindCompanyAndSupplier:function(e,a,t){if(-99==e&&-99==a||1==t)return $("#selCompany").val(""),$("#select2-selCompany-container").text("******"),$("#selSupplier").val(""),void $("#selSupplier option:first").text("******");$.get({url:"product/company",success:function(t){$("#selCompany option").remove(),$("#selCompany").append('<option value="">-</option>'),$(t).each(function(t,e){$("#selCompany").append("<option value="+e.id+">"+e.name+"</option>")}),e?($("#selCompany").val(e),$("#select2-selCompany-container").text($("#selCompany option:selected").text()),$.Data.bindSupplier(e,a)):$("#selSupplier").html('<option value="">-</option>'),$("#selCompany").change(function(){$.Data.bindSupplier($("#selCompany").val())})}})},bindSupplier:function(t,e){t?$.get({url:"product/supplier",data:{companyId:t},success:function(t){$("#selSupplier option").remove(),$("#selSupplier").append('<option value="">-</option>'),$(t).each(function(t,e){$("#selSupplier").append("<option value="+e.id+">"+e.name+"-"+e.phone+"</option>")}),e?($("#selSupplier").val(e),$("#select2-selSupplier-container").text($("#selSupplier option:selected").text())):($("#selSupplier").val($("#selSupplier option").eq(1).attr("value")),$("#selSupplier").change())}}):($("#selSupplier").html('<option value="">-</option>'),$("#selSupplier").val(""),$("#selSupplier").change())},bindFundCompany:function(e){$.get({url:"product/productOrganization",success:function(t){$("#selFundCompany option").remove(),$("#selFundCompany").append('<option value="">-</option>'),$(t).each(function(t,e){$("#selFundCompany").append("<option value="+e.name+">"+e.name+"</option>")}),e&&$("#selFundCompany").val(e)}})},bindDataDic:function(a,t,e,i){var n=_.where($.parseJSON($("#baseDataDic").val()),{type:t});"function"==typeof a?a(n):($("#"+a+" option").remove(),i?$("#"+a).append(i):$("#"+a).append('<option value="">-</option>'),$(n).each(function(t,e){$("#"+a).append("<option value="+e.name+">"+e.intro+"</option>")}),e&&$("#"+a).val(e))},initPriceSystem:function(t){t.fxJson||(t.fxJson=[]),t.fxJson2||(t.fxJson2=[]),t.fxJson3||(t.fxJson3=[]),t.jumpJson||(t.jumpJson=[]),t.backEndJson||(t.backEndJson=[]),t.jtBackEndJson||(t.jtBackEndJson=[]),t.jtFloatBackEndJson||(t.jtFloatBackEndJson=[]),t.encourageJson||(t.encourageJson=[]),t.jtEncourageJson||(t.jtEncourageJson=[]),"object"!=typeof t.fxJson&&(t.fxJson=$.parseJSON(t.fxJson)),"object"!=typeof t.fxJson2&&(t.fxJson2=$.parseJSON(t.fxJson2)),"object"!=typeof t.fxJson3&&(t.fxJson3=$.parseJSON(t.fxJson3)),"object"!=typeof t.jumpJson&&(t.jumpJson=$.parseJSON(t.jumpJson)),"object"!=typeof t.backEndJson&&(t.backEndJson=$.parseJSON(t.backEndJson)),"object"!=typeof t.jtBackEndJson&&(t.jtBackEndJson=$.parseJSON(t.jtBackEndJson)),"object"!=typeof t.jtFloatBackEndJson&&(t.jtFloatBackEndJson=$.parseJSON(t.jtFloatBackEndJson)),"object"!=typeof t.encourageJson&&(t.encourageJson=$.parseJSON(t.encourageJson)),"object"!=typeof t.jtEncourageJson&&(t.jtEncourageJson=$.parseJSON(t.jtEncourageJson)),"object"!=t.productDiscount&&("object"!=typeof t.productDiscount.xhJson&&(t.productDiscount.xhJson=$.parseJSON(t.productDiscount.xhJson)),"object"!=typeof t.productDiscount.ycfJson&&(t.productDiscount.ycfJson=$.parseJSON(t.productDiscount.ycfJson)),"object"!=typeof t.productDiscount.jtJson&&(t.productDiscount.jtJson=$.parseJSON(t.productDiscount.jtJson)));for(var e=t.fxJson?t.fxJson.length:0,a=0;a<4-e;a++)t.fxJson.push({});ko.applyBindings(t.fxJson,$("#fxJsonList")[0]);for(e=t.fxJson2?t.fxJson2.length:0,a=0;a<4-e;a++)t.fxJson2.push({});ko.applyBindings(t.fxJson2,$("#fxJson2Table")[0]);for(e=t.fxJson3?t.fxJson3.length:0,a=0;a<4-e;a++)t.fxJson3.push({});ko.applyBindings(t.fxJson3,$("#fxJson3Table")[0]);for(e=t.backEndJson.length,a=0;a<4-e;a++)t.backEndJson.push({});ko.applyBindings(t.backEndJson,$("#backEndJsonList")[0]);for(e=t.jtBackEndJson.length,a=0;a<4-e;a++)t.jtBackEndJson.push({});ko.applyBindings(t.jtBackEndJson,$("#jtBackEndJsonList")[0]);for(e=t.encourageJson.length,a=0;a<4-e;a++)t.encourageJson.push({});ko.applyBindings(t.encourageJson,$("#encourageJsonList")[0]);for(e=t.jtEncourageJson.length,a=0;a<4-e;a++)t.jtEncourageJson.push({});ko.applyBindings(t.jtEncourageJson,$("#jtEncourageJsonList")[0]);for(e=t.jtFloatBackEndJson.length,a=0;a<4-e;a++)t.jtFloatBackEndJson.push({});ko.applyBindings(t.jtFloatBackEndJson,$("#jtFloatBackEndJsonList")[0]),$("#priceSystemContent input[type='checkbox']").each(function(){"true"==$(this).attr("data-value")?($(this).attr("checked","checked"),$(this).val(!0)):($(this).removeAttr("checked"),$(this).val(!1))}),$("#newPriceSystemContent input[type='checkbox']").each(function(){"true"==$(this).attr("data-value")?($(this).attr("checked","checked"),$(this).val(!0)):($(this).removeAttr("checked"),$(this).val(!1))}),$("#tyPriceSystemContent input[type='checkbox']").each(function(){"true"==$(this).attr("data-value")?($(this).attr("checked","checked"),$(this).val(!0)):($(this).removeAttr("checked"),$(this).val(!1))});for(e=t.productDiscount.xhJson?t.productDiscount.xhJson.length:0,a=0;a<4-e;a++)t.productDiscount.xhJson.push({});for(e=t.productDiscount.ycfJson?t.productDiscount.ycfJson.length:0,a=0;a<4-e;a++)t.productDiscount.ycfJson.push({});for(e=t.productDiscount.jtJson?t.productDiscount.jtJson.length:0,a=0;a<4-e;a++)t.productDiscount.jtJson.push({});ko.applyBindings(t.productDiscount,$("#productDiscountDiv")[0])},loadPriceSystem:function(t){var a=[],i=[],n=[],o=[],r=[],s=[],l=[],c=[],d=[],u=[],p=[],f=[];$("[data-type='fxJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){"text"==$(this).attr("type")?t[$(this).attr("data-title")]=$(this).val():t[$(this).attr("data-title")]=$(this).is(":checked")}),a.push(t)}),$("[data-type='jumpJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),i.push(t)}),$("[data-type='backEndJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),n.push(t)}),$("[data-type='jtBackEndJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),o.push(t)}),$("[data-type='encourageJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),c.push(t)}),$("[data-type='jtEncourageJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),d.push(t)}),$("[data-type='jtFloatBackEndJsonItem']").each(function(){var t={},e="";""!=$("input",$(this)).eq(0).val()&&""==$("input",$(this)).eq(1).val()?e+=$("input",$(this)).eq(0).val()+"万≤X":""==$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()?e+="X＜"+$("input",$(this)).eq(1).val()+"万":""!=$("input",$(this)).eq(0).val()&&""!=$("input",$(this)).eq(1).val()&&(e+=$("input",$(this)).eq(0).val()+"万≤X＜",e+=$("input",$(this)).eq(1).val()+"万"),t.title=e,$("input[data-title]",$(this)).each(function(){t[$(this).attr("data-title")]=$(this).val()}),r.push(t)}),$("tr[name='fxjson2Item']").each(function(){var t={},e=$(this);$("input[priceItem]",$(e)).each(function(){$(this).attr("priceItemList")?(t[$(this).attr("priceItem")]||(t[$(this).attr("priceItem")]={}),t[$(this).attr("priceItem")][$(this).attr("priceItemList")]=parseFloat($(this).val())):"text"==$(this).attr("type")?t[$(this).attr("priceItem")]=parseFloat($(this).val()):t[$(this).attr("priceItem")]=$(this).is(":checked")}),$("select[priceItem]",$(e)).each(function(){t[$(this).attr("priceItem")]=parseFloat($(this).val())}),s.push(t)}),$("tr[name='fxjson3Item']").each(function(){var t={},e=$(this);$("input[priceItem]",$(e)).each(function(){$(this).attr("priceItemList")?(t[$(this).attr("priceItem")]||(t[$(this).attr("priceItem")]={}),t[$(this).attr("priceItem")][$(this).attr("priceItemList")]=parseFloat($(this).val())):"text"==$(this).attr("type")?t[$(this).attr("priceItem")]=parseFloat($(this).val()):t[$(this).attr("priceItem")]=$(this).is(":checked")}),$("select[priceItem]",$(e)).each(function(){t[$(this).attr("priceItem")]=parseFloat($(this).val())}),l.push(t)}),$("tr[name='xhJsonItem']").each(function(){var t={},e=$(this);$("input[priceItem]",$(e)).each(function(){$(this).attr("priceItemList")?(t[$(this).attr("priceItem")]||(t[$(this).attr("priceItem")]={}),t[$(this).attr("priceItem")][$(this).attr("priceItemList")]=parseFloat($(this).val())):"text"==$(this).attr("type")?t[$(this).attr("priceItem")]=parseFloat($(this).val()):t[$(this).attr("priceItem")]=$(this).is(":checked")}),$("select[priceItem]",$(e)).each(function(){t[$(this).attr("priceItem")]=parseFloat($(this).val())}),u.push(t)}),$("tr[name='ycfJsonItem']").each(function(){var t={},e=$(this);$("input[priceItem]",$(e)).each(function(){$(this).attr("priceItemList")?(t[$(this).attr("priceItem")]||(t[$(this).attr("priceItem")]={}),t[$(this).attr("priceItem")][$(this).attr("priceItemList")]=parseFloat($(this).val())):"text"==$(this).attr("type")?t[$(this).attr("priceItem")]=parseFloat($(this).val()):t[$(this).attr("priceItem")]=$(this).is(":checked")}),$("select[priceItem]",$(e)).each(function(){t[$(this).attr("priceItem")]=parseFloat($(this).val())}),p.push(t)}),$("tr[name='jtJsonItem']").each(function(){var t={},e=$(this);$("input[priceItem]",$(e)).each(function(){$(this).attr("priceItemList")?(t[$(this).attr("priceItem")]||(t[$(this).attr("priceItem")]={}),t[$(this).attr("priceItem")][$(this).attr("priceItemList")]=parseFloat($(this).val())):"text"==$(this).attr("type")?t[$(this).attr("priceItem")]=parseFloat($(this).val()):t[$(this).attr("priceItem")]=$(this).is(":checked")}),$("select[priceItem]",$(e)).each(function(){t[$(this).attr("priceItem")]=parseFloat($(this).val())}),f.push(t)}),$("#fxJson").val(JSON.stringify(a)),$("#jumpJson").val(JSON.stringify(i)),$("#backEndJson").val(JSON.stringify(n)),$("#jtBackEndJson").val(JSON.stringify(o)),$("#encourageJson").val(JSON.stringify(c)),$("#jtEncourageJson").val(JSON.stringify(d)),$("#fxJson2").val(JSON.stringify(s)),$("#fxJson3").val(JSON.stringify(l)),$("#jtFloatBackEndJson").val(JSON.stringify(r)),$("#xhJson").val(JSON.stringify(u)),$("#ycfJson").val(JSON.stringify(p)),$("#jtJson").val(JSON.stringify(f))},initProductFile:function(r,s,e){$("#ycfZip").click(function(){window.open($(this).attr("src"))}),$("#jtZip").click(function(){window.open($(this).attr("src"))}),$("#tyZip").click(function(){window.open($(this).attr("src"))}),r&&($.get({url:"product/productDoc",data:{type:"产品资料",productId:r,project:1},success:function(t){if(0<t.length){var a=t[0].url+"|";$("#ycfZip").show(),$("#ycfZip").attr("src",$.getFileUrl(t[0].url)),$.get({url:"product/productDocPreview",data:{productId:r,productDocId:t[0].id},success:function(t){for(var e=0;e<t.length;e++)e!=t.length-1?a+=t[e].url+",":a+=t[e].url,$("#ycfFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(t[e].url)+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+t[e].url.substr(t[e].url.lastIndexOf("/")+1)+"</p></a>");$("#ycfFileValue").val(a)}}),$("#ycfFileTitle").text(t[0].name),"function"==typeof e&&e()}"function"==typeof e&&e()}}),$.get({url:"product/productDoc",data:{type:"产品资料",productId:r,project:2},success:function(t){if(0<t.length){var a=t[0].url+"|";$("#jtZip").show(),$("#jtZip").attr("src",$.getFileUrl(t[0].url)),$.get({url:"product/productDocPreview",data:{productId:r,productDocId:t[0].id},success:function(t){for(var e=0;e<t.length;e++)e!=t.length-1?a+=t[e].url+",":a+=t[e].url,$("#jtFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(t[e].url)+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+t[e].url.substr(t[e].url.lastIndexOf("/")+1)+"</p></a>");$("#jtFileValue").val(a)}}),$("#jtFileTitle").text(t[0].name),"function"==typeof e&&e()}"function"==typeof e&&e()}}),$.get({url:"product/productDoc",data:{type:"产品资料",productId:r,project:4},success:function(t){if(0<t.length){$("#tyZip").show(),$("#tyZip").attr("src",$.getFileUrl(t[0].url));var a=t[0].url+"|";$.get({url:"product/productDocPreview",data:{productId:r,productDocId:t[0].id},success:function(t){for(var e=0;e<t.length;e++)e!=t.lenth-1?a+=t[e].url+",":a+=t[e].url,$("#tyFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(t[e].url)+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+t[e].url.substr(t[e].url.lastIndexOf("/")+1)+"</p></a>");$("#tyFileValue").val(a)}}),$("#tyFileTitle").text(t[0].name),"function"==typeof e&&e()}"function"==typeof e&&e()}})),$("#ycfFileUpload").upload({url:"/upload/UploadFile",data:{path:"ProductPDF",isRename:!1},success:function(t,e){if((e=e.result).isSuccess){$("#ycfZip").show(),$("#ycfFile [target='view_window']").remove();var a=e.data.split("|")[0];$("#ycfZip").attr("src",$.getFileUrl(a));for(var i=a.substr(0,a.lastIndexOf("/")+1),n=e.data.split("|")[1].split(","),o=0;o<n.length;o++)$("#ycfFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(i+n[o])+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+n[o].substr(n[o].lastIndexOf(" / ")+1)+"</p></a>");r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:1,fileValue:e.data},success:function(){},error:function(t){$.errorMsg(t.responseText)}}),$("#ycfFileValue").val(e.data),$("#ycfFileTitle").text(e.fileName),$("#ycfFileUpload").next().hide()}else $.errorMsg(e.errMsg)},start:function(){$("#ycfFileUpload").next().show()}}),$("#ycfFile .update_remove").on("click",function(){var t=window.event||event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,$("#ycfZip").removeAttr("src"),$("#ycfZip").hide(),$("#ycfFileTitle").text(""),$("#ycfFile [target='view_window']").remove(),$("#ycfFileValue").val(""),r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:1,fileValue:""},success:function(){},error:function(t){$.errorMsg(t.responseText)}})}),$("#jtFileUpload").upload({url:"/upload/UploadFile",data:{path:"ProductPDF",isRename:!1},success:function(t,e){if((e=e.result).isSuccess){$("#jtZip").show(),$("#jtFile [target='view_window']").remove();var a=e.data.split("|")[0];$("#jtZip").attr("src",$.getFileUrl(a));for(var i=a.substr(0,a.lastIndexOf("/")+1),n=e.data.split("|")[1].split(","),o=0;o<n.length;o++)$("#jtFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(i+n[o])+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+n[o].substr(n[o].lastIndexOf(" / ")+1)+"</p></a>");r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:2,fileValue:e.data},success:function(){},error:function(t){$.errorMsg(t.responseText)}}),$("#jtFileValue").val(e.data),$("#jtFileTitle").text(e.fileName),$("#jtFileUpload").next().hide()}else $.errorMsg(e.errMsg)},start:function(){$("#jtFileUpload").next().show()}}),$("#jtFile .update_remove").on("click",function(){var t=window.event||event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,$("#jtZip").removeAttr("src"),$("#jtZip").hide(),$("#jtFileTitle").text(""),$("#jtFile [target='view_window']").remove(),$("#jtFileValue").val(""),r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:2,fileValue:""},success:function(){},error:function(t){$.errorMsg(t.responseText)}})}),$("#tyFileUpload").upload({url:"/upload/UploadFile",data:{path:"ProductPDF",isRename:!1},success:function(t,e){if((e=e.result).isSuccess){$("#tyZip").show(),$("#tyFile [target='view_window']").remove();var a=e.data.split("|")[0];$("#tyZip").attr("src",$.getFileUrl(a));for(var i=a.substr(0,a.lastIndexOf("/")+1),n=e.data.split("|")[1].split(","),o=0;o<n.length;o++)$("#tyFilePannel").append('<a class="example-image-link dib fl ml20" target="view_window" href="'+$.getFileUrl(i+n[o])+'"><img class="idimg" src="/images/icon/pdf.png"><p class="col000 txtcut" >'+n[o].substr(n[o].lastIndexOf(" / ")+1)+"</p></a>");r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:4,fileValue:e.data},success:function(){},error:function(t){$.errorMsg(t.responseText)}}),$("#tyFileValue").val(e.data),$("#tyFileTitle").text(e.fileName),$("#tyFileUpload").next().hide()}else $.errorMsg(e.errMsg)},start:function(){$("#tyFileUpload").next().show()}}),$("#tyFile .update_remove").on("click",function(){var t=window.event||event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,$("#tyZip").removeAttr("src"),$("#tyZip").hide(),$("#tyFileTitle").text(""),$("#tyFile [target='view_window']").remove(),$("#tyFileValue").val(""),r&&s&&$.post({url:"product/updateFile/",data:{productId:r,project:4,fileValue:""},success:function(){},error:function(t){$.errorMsg(t.responseText)}})})},splitPriceTitle:function(t,e){return 0<=t.indexOf("万≤X＜")?1==e?t.split("万≤X＜")[0].replace("万",""):t.split("万≤X＜")[1].replace("万",""):0==t.indexOf("X＜")?1==e?"":t.split("X＜")[1].replace("万",""):0<=t.indexOf("万≤X")&&1==e?t.split("万≤X")[0].replace("万",""):""},bindDepartment:function(t){var e={selId:"",defaultValue:"",isCompany:t.isCompany},i=$.extend(e,t);console.log(i),$.get({url:"oa/department/getlist",data:i,success:function(t){var a="";$(t).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>"}),$("#"+i.selId).append(a)}})},bindAdmin:function(t){var n=$.extend({selId:"",defaultValue:"",role:"",roleIds:"",status:"1",deptParentId:"",onlyUnderlings:!1,project:"",onlyDepartmentIds:!1,showProject:!1,departmentId:""},t);"sm"==n.role?n.roleIds="26,27,56":"pm"==n.role?n.roleIds="24,25":"jtorgsm"==n.role?n.roleIds="47":"jtorgcs"==n.role?n.roleIds="49":"contract"==n.role?n.roleIds="32":"investment"==n.role?n.roleIds="53,54":"project"==n.role&&(n.roleIds="67"),$.get({url:"oa/admin/GetList",data:n,success:function(t){var a=$("#"+n.selId+" option").map(function(){return $(this).val()}).get(),i="";$(t).each(function(t,e){if(-1<$.inArray(e.id+"",a))return!0;n.showProject?e.id==n.defaultValue?i+="<option value='"+e.id+"' selected='selected' data-project='"+e.project+"'>"+e.realName+"</option>":i+="<option value='"+e.id+"' data-project='"+e.project+"'>"+e.realName+"</option>":e.id==n.defaultValue?i+="<option value='"+e.id+"' selected='selected'>"+e.realName+"</option>":i+="<option value='"+e.id+"'>"+e.realName+"</option>"}),$("#"+n.selId).append(i)}})},bindRole:function(t){var i=$.extend({selId:"",defaultValue:""},t);$.get({url:"sys/role",data:i,success:function(t){var a="";$(t).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>"}),$("#"+i.selId).append(a)}})},bindEnterprise:function(t){var i=$.extend({selId:"",defaultValue:""},t);$.get({url:"oa/enterprise",data:i,success:function(t){var a="";$(t.data).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>"}),$("#"+i.selId).append(a)}})},bindProductOrganization:function(i){$.get({url:"product/productOrganization",success:function(t){var a="";$(t).each(function(t,e){e.id==i?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>"}),$("#selProductOrganization").append(a)}})},bindProductType:function(i,n){$.get({url:"product/productType",success:function(t){var a="";$(t).each(function(t,e){e.id!=n&&(e.id==i?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>")}),$("#selProductType").append(a)}})},bindJTTeamType:function(i){$.get({url:"jt/jTTeam",success:function(t){var a="";$(t).each(function(t,e){e.id==i?a+="<option value='"+e.id+"' selected='selected'>"+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.name+"</option>"}),$("#selJTTeamType").append(a)}})},bindJTCareer:function(i){$.get({url:"jt/Career",success:function(t){var a="";$(t.data).each(function(t,e){e.id==i?a+="<option value='"+e.id+"' selected='selected'>"+e.realName+"</option>":a+="<option value='"+e.id+"'>"+e.realName+"</option>"}),$("#selJTCareer").append(a)}})},bindJTOrg:function(a){$.get({url:"jt/org/getorgname",success:function(t){$("#"+a.selId+" option").remove(),$("#"+a.selId).append('<option value="">-</option>'),$(t).each(function(t,e){$("#"+a.selId).append("<option value="+e.id+">"+e.realName+"</option>")}),a.defaultValue&&($("#"+a.selId).val(a.defaultValue),$("#select2-"+a.selId+"-container").text($("#"+a.selId+" option:selected").text()))}})},bindOnlineProduct:function(t){var i=$.extend({selId:"",isOnline:!0,defaultValue:""},t);$.get({url:"product/getproductlist",data:i,success:function(t){$("#"+i.selId).empty(),$("#"+i.selId).append('<option value="">-</option>');var a="";$(t).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.id+"："+e.sTitle+" ["+e.phase+"期]</option>":a+="<option value='"+e.id+"'>"+e.id+"："+e.sTitle+" ["+e.phase+"期]</option>"}),$("#"+i.selId).append(a),$("#select2-"+i.selId+"-container").text($("#"+i.selId+" option[value='"+i.defaultValue+"']").text())}})},bindJtOnlineProduct:function(t){var i=$.extend({selId:"",productTypeId:"",isOnline:!0,defaultValue:""},t);$.get({url:"common/pair/getjtproductlist",data:i,success:function(t){$("#"+i.selId).empty(),$("#"+i.selId).append('<option value="">-</option>');var a="";$(t).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.id+"："+e.name+"</option>":a+="<option value='"+e.id+"'>"+e.id+"："+e.name+"</option>"}),$("#"+i.selId).append(a),$("#select2-"+i.selId+"-container").text($("#"+i.selId+" option[value='"+i.defaultValue+"']").text())}})},bindNews:function(t){var i=$.extend({selId:"",newsTypeId:"",newsTypeIds:"",defaultValue:""},t);$.get({url:"site/news",data:i,success:function(t){$("#"+i.selId).empty(),$("#"+i.selId).append('<option value="">-</option>');var a="";$(t.data).each(function(t,e){e.id==i.defaultValue?a+="<option value='"+e.id+"' selected='selected'>"+e.id+"："+e.title+"</option>":a+="<option value='"+e.id+"'>"+e.id+"："+e.title+"</option>"}),$("#"+i.selId).append(a),$("#select2-"+i.selId+"-container").text($("#"+i.selId+" option[value='"+i.defaultValue+"']").text())}})},bindTag:function(t){var n=$.extend({selId:"",defaultValue:""},t);$.get({url:"user/userTag",data:n,success:function(t){var a=$("#"+n.selId+" option").map(function(){return $(this).val()}).get(),i="";$(t.data).each(function(t,e){if(-1<$.inArray(e.id+"",a))return!0;e.id==n.defaultValue?i+="<option value='"+e.name+"' selected='selected'>"+e.name+"</option>":i+="<option value='"+e.name+"'>"+e.name+"</option>"}),$("#"+n.selId).append(i)}})},numToCny:function(t){var e="",a="仟佰拾亿仟佰拾万仟佰拾元角分",i=(t+="00").indexOf(".");0<=i&&(t=t.substring(0,i)+t.substr(i+1,2)),a=a.substr(a.length-t.length);for(var n=0;n<t.length;n++)e+="零壹贰叁肆伍陆柒捌玖".substr(t.substr(n,1),1)+a.substr(n,1);return e.replace(/零角零分$/,"整").replace(/零[仟佰拾]/g,"零").replace(/零{2,}/g,"零").replace(/零([亿|万])/g,"$1").replace(/零+元/,"元").replace(/亿零{0,3}万/,"亿").replace(/^元/,"零元")},outputmoney:function(t){return isNaN(t)||""==t?"0":(t=Math.round(100*t)/100)<0?"-"+$.Data.outputdollars(Math.floor(Math.abs(t)-0)+"")+$.Data.outputcents(Math.abs(t)-0):$.Data.outputdollars(Math.floor(t-0)+"")+$.Data.outputcents(t-0)},outputcents:function(t){return(t=Math.round(100*(t-Math.floor(t))))<10?".0"+t:"."+t},outputdollars:function(t){if(t.length<=3)return""==t?"0":t;var e=t.length%3,a=0==e?"":t.substring(0,e);for(i=0;i<Math.floor(t.length/3);i++)0==e&&0==i?a+=t.substring(e+3*i,e+3*i+3):a+=","+t.substring(e+3*i,e+3*i+3);return a},showUserRole:function(t,e){1==t||2==t||3==t||21==t||22==t||31==t||13==t?$("select[name='role']").attr("disabled","disabled"):($("select[name='role'] option[value='1']").remove(),$("select[name='role'] option[value='2']").remove(),$("select[name='role'] option[value='3']").remove(),$("select[name='role'] option[value='21']").remove(),$("select[name='role'] option[value='22']").remove(),$("select[name='role'] option[value='31']").remove(),$("select[name='role'] option[value='13']").remove(),$("select[name='role']").removeAttr("disabled")),"Cs"!=$("#currentRole").val()&&e!=parseInt($("#currentUserId").val())&&$("select[name='role']").attr("disabled","disabled")}},Array.prototype.contains=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},Array.prototype.remove=function(t){return t<0?this:this.slice(0,t).concat(this.slice(t+1,this.length))},Date.prototype.toDateString=function(){return this.getFullYear()+"-"+(this.getMonth()+1)+"-"+this.getDate()},Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},jQuery.extend({getParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?unescape(decodeURI(a[2])):null},numToCny:function(t){var e="",a="仟佰拾亿仟佰拾万仟佰拾元角分",i=(t+="00").indexOf(".");0<=i&&(t=t.substring(0,i)+t.substr(i+1,2)),a=a.substr(a.length-t.length);for(var n=0;n<t.length;n++)e+="零壹贰叁肆伍陆柒捌玖".substr(t.substr(n,1),1)+a.substr(n,1);return e.replace(/零角零分$/,"整").replace(/零[仟佰拾]/g,"零").replace(/零{2,}/g,"零").replace(/零([亿|万])/g,"$1").replace(/零+元/,"元").replace(/亿零{0,3}万/,"亿").replace(/^元/,"零元")},outputdollars:function(t){if(t.length<=3)return""==t?"0":t;var e=t.length%3,a=0==e?"":t.substring(0,e);for(i=0;i<Math.floor(t.length/3);i++)0==e&&0==i?a+=t.substring(e+3*i,e+3*i+3):a+=","+t.substring(e+3*i,e+3*i+3);return a},outputmoney:function(t){return isNaN(t)||""==t?"0":(t=Math.round(100*t)/100)<0?"-"+$.outputdollars(Math.floor(Math.abs(t)-0)+"")+$.outputcents(Math.abs(t)-0):$.outputdollars(Math.floor(t-0)+"")+$.outputcents(t-0)},outputcents:function(t){return(t=Math.round(100*(t-Math.floor(t))))<10?".0"+t:"."+t}});